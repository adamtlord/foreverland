{% extends 'interior.html' %}
{% load custom_tags %}

{% block content %}
	<h2>Past Shows</h2>
    <div class="btn-group pull-right">
        <button type="button" class="btn btn-default dropdown-toggle jump-year-btn" data-toggle="dropdown">
            Jump to Year <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
            {% for year in shows_by_year %}
                <li><a href="#{{ year }}" class="jump-year">{{ year }}</a></li>
            {% endfor %}
        </ul>
    </div>
        <!-- <div class="btn-group btn-group-sm">{% for year in shows_by_year %}<button href="#{{ year }}" class="jump-year btn btn-default">{{ year }}</button>{% endfor %} -->
        {% for year, shows in shows_by_year.items %}
            <h3 id="{{ year }}">{{ year }}{% if not forloop.first %}<div class="pull-right"><a href="#" class="scroll-top"><i class="glyphicon glyphicon-arrow-up"></i></a></div>{% endif %}</h3>
            <ul class="shows">
                {% for show in shows %}
                    <li>
                        <a href="{% url 'show' show.id %}" class="tl"><img src="{{ MEDIA_URL }}{% if show.venue.venue_image != 'venues/' %}{{show.venue.venue_image}}{% else %}venues/blank-venue.jpg{% endif %}"></a>
                        <div class="show">
                            <h4>
                                <span class="title">
                                    <a href="{% url 'show' show.id %}">
                                        {{ show.date|date:"M. j" }} at {{ show.venue }}
                                    </a>
                                </span>
                            </h4>
                            {% if show.opener %}Opener: {{ show.opener }}<br>{% endif %}
                            {% if show.notes %}<small>{{ show.notes|safe }}</small>{% endif %}
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% endfor %}
{% endblock %}
{% block require_js %}
    <script type="text/javascript">
        require(['{{ STATIC_URL }}global/js/common.js'], function () {
            require(['past']);
        });
    </script>
{% endblock %}